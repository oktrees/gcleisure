class UploadAdapter{constructor(e){this.loader=e}upload(){return this.loader.file.then(e=>new Promise((t,s)=>{this._initRequest(),this._initListeners(t,s,e),this._sendRequest(e)}))}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST","https://new.gcleisure.com/administrator/upload",!0),e.responseType="json"}_initListeners(e,t,s){const r=this.xhr;this.loader;r.addEventListener("error",()=>{t("파일을 업로드 할 수 없습니다.")}),r.addEventListener("abort",()=>t()),r.addEventListener("load",()=>{const s=r.response;if(console.log(s.url),!s||s.error)return t(s&&s.error?s.error.message:"파일을 업로드 할 수 없습니다.");e({default:s.url})})}_sendRequest(e){const t=new FormData;t.append("upload",e),this.xhr.send(t)}}